{% extends "public/templates/public_template.html" %}


{% block main%}

<div class="container">
  <div class="row">
    <div class="col">
      <h1>Welcome to Sentiment analysis service</h1>
      <div class="bg-info">
        <div style="height:5px"></div>
        <h6>The 'Sentiment analysis' model is trained to recognize sentiment from the face in the image.</h6>
        <h6>Simply pass in an image input with a publicly accessible URL or by directly sending image bytes.</h6>
        <div style="height:5px"></div>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-6">

      <div style="height:20px"></div>
      <form action="/" method="POST" enctype="multipart/form-data">

        <div class="form-group mx-sm-3 mb-2">

          <div class="custom-file">
            <label for="image" class="custom-file-label">Choose images to upload (PNG, JPG)</label>
            <input oninput="filesize(this);" type="file" class="custom-file-input" name="image" id="image">

          </div>

        </div>
        <button type="submit" class="btn btn-secondary">EXECTUTE ANALYSIS</button>

        <div style="height:10px"></div>
        {% if loaded_image == null or fname == '' %}
        <img style="max-height: 300px;" src="static/img/emotion-sentiment-digital-intelligence.jpg" alt="">
        {% else %}
        <img src={{ loaded_image }} alt="" height="400">
        {% endif %}

      </form>

    </div>
    <div class="col-6">
      <div style="height:20px"></div>

        <div style="height:90px"></div>

        <div class="card">
          <div class="card-header">
            <h5> ANALYSIS RESULT </h5>
          </div>
          <div class="card-body">
            <h6>
            <p class="card-text">{{ result }}</p></h6>

          </div>
        </div>
          
        </div>
      </form>

    


    </div>
  </div>
</div>

{% endblock %}
{% block script %}
<script>

  function filesize(elem) {
    document.cookie = `filesize=${elem.files[0].size}`
  }

</script>

{% endblock %}